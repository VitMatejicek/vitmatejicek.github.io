{"version":3,"sources":["webpack:///./src/app/common/components/page/page.component.ts","webpack:///./src/app/common/components/page/page.styles.scss","webpack:///./src/app/common/components/page/page.template.html","webpack:///./src/app/common/modules/pages/pages.module.ts","webpack:///./src/app/common/modules/pages/pages.service.ts","webpack:///./src/app/shared.module.ts"],"names":[],"mappings":"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","file":"src-app-common-modules-pages-pages-module.js","sourcesContent":["import { Component, OnInit, Input, EventEmitter, Output } from '@angular/core';\nimport { CategoriesService } from '../../modules/categories/categories.service';\nimport { PagesService } from '../../modules/pages/pages.service';\nimport { Router } from '@angular/router';\n\n\n@Component({\n    selector: 'meedias-redactor-page',\n\ttemplateUrl: './page.template.html',\n\tstyleUrls: ['./page.styles.scss']\n})\nexport class PageOverviewComponent implements OnInit {\n\n\tconstructor(\n\t\tprivate pageService: PagesService,\n\t\tprivate router: Router\n\t){}\n\n\t@Output() pageDeleted = new EventEmitter<string>();\n\t@Output() repalceOrder = new EventEmitter<string>();\n\t@Input() loadedPage;\n\tpage;\n\tloaded: boolean;\n\n\tngOnInit(){\n\t\tconsole.log(\"init pyčo\");\n\t\tconsole.log(this.loadedPage);\n\t\tthis.loaded = false;\n        this.pageService.getPageInfo(this.loadedPage[1]).then((data) => {\n            this.page = data || [];\n\t\t\tthis.loaded = true;\n\t\t\t// Tohle asi nutne predelat na backend\n\t\t\tthis.placeInArrayOrder();\n\t\t});\n\n\n\t}\n\n\tpageDelete(id){\n\t\tthis.loaded = false;\n\t\tthis.pageService.deletePage(id).then(() => {\n\t\t\tthis.pageDeleted.emit(id);\n\t\t});\n\t}\n\n\teditPage(id){\n\t\tlet url = 'redactor/pages/edit/' + id;\n\t\tthis.router.navigate([url]);\n\t}\n\n\n\tplaceInArrayOrder(){\n\t\t// Tohle asi nutne predelat na backend\n\t\tswitch(this.page.page_type){\n\t\t\tcase 'index':\n\t\t\t\tthis.repalceOrder.emit(this.page.id + '|0');\n\t\t\tbreak;\n\t\t\tcase 'article':\n\t\t\t\tthis.repalceOrder.emit(this.page.id + '|1');\n\t\t\tbreak;\n\t\t\tcase 'categories':\n\t\t\t\tthis.repalceOrder.emit(this.page.id + '|2');\n\t\t\tbreak;\n\t\t\tcase '':\n\t\t\tbreak;\n\t\t}\n\t}\n\n}\n","module.exports = \".card {\\n  border: 1px solid #ededed;\\n  box-shadow: 0 1px 15px 0 rgba(123, 123, 123, 0.05) !important; }\\n\\n.ccli {\\n  cursor: pointer; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9yb290L3JlbWVkaWFzL21lZWRpYXNfZnJvbnRlbmQvc3JjL2FwcC9jb21tb24vY29tcG9uZW50cy9wYWdlL3BhZ2Uuc3R5bGVzLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSwwQkFBeUI7RUFFekIsOERBQXdELEVBQzNEOztBQUVEO0VBQ0MsZ0JBQWMsRUFDZCIsImZpbGUiOiJzcmMvYXBwL2NvbW1vbi9jb21wb25lbnRzL3BhZ2UvcGFnZS5zdHlsZXMuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jYXJkIHtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZWRlZGVkO1xuICAgIC13ZWJraXQtYm94LXNoYWRvdzogMCAxcHggMTVweCAwIGhzbGEoMCwwJSw0OC4yJSwuMDUpICFpbXBvcnRhbnQ7XG4gICAgYm94LXNoYWRvdzogMCAxcHggMTVweCAwIGhzbGEoMCwwJSw0OC4yJSwuMDUpICFpbXBvcnRhbnQ7XG59XG5cbi5jY2xpIHtcbiBjdXJzb3I6cG9pbnRlcjtcbn1cblxuIl19 */\"","module.exports = \"<div class=\\\"card\\\">\\n        <div *ngIf=\\\"loaded\\\" class=\\\"card-body pb-0\\\">\\n            <h6 class=\\\"card-title card-top float-left mr-2\\\">{{page.url}}</h6>\\n\\n\\n            <div *ngIf=\\\"page.page_type == 'index'\\\" class=\\\"card-title card-top float-left small ml-1 text-secondary\\\">\\n                index/\\n            </div>\\n            <div *ngIf=\\\"page.page_type == 'article'\\\" class=\\\"card-title card-top float-left small ml-1 text-secondary\\\">\\n                article/*jmeno-clanku*\\n            </div>\\n            <div *ngIf=\\\"page.page_type == 'categories'\\\" class=\\\"card-title card-top float-left small ml-1 text-secondary\\\">\\n                categories/*jmeno-categorie*\\n            </div>\\n            <div *ngIf=\\\"page.page_type == 'page' || page.page_type == ''\\\" class=\\\"card-title card-top float-left small ml-1 text-secondary\\\">\\n                page/{{page.url}}\\n            </div>\\n\\n\\n            <h6 *ngIf=\\\"page.page_type == ''\\\" class=\\\"card-title card-top text-dark ccli float-right px-1\\\" (mousedown)=\\\"editPage(page)\\\" (mousedown)=\\\"editPage(page.id)\\\">změnit</h6>\\n            <h6 *ngIf=\\\"page.page_type == ''\\\" class=\\\"card-title card-top text-dark ccli float-right px-1\\\" (mousedown)=\\\"pageDelete(page.id)\\\">smazat</h6>\\n            <h6 class=\\\"card-title card-top text-dark float-right px-1 ccli\\\" target=\\\"_blank\\\" routerLink=\\\"/page/{{page.url}}\\\"><i>editor</i></h6>\\n        </div>\\n        <div *ngIf=\\\"loaded\\\" class=\\\"card-body pt-0\\\">\\n            <p class=\\\"p-0 mb-0\\\">Nějaký popisek </p>\\n            <p class=\\\"p-0 small\\\">Nějký info o téhle stránce</p>\\n        </div>\\n        <div *ngIf=\\\"!loaded\\\"  class=\\\"card-body pt-0\\\">\\n            <meedias-spinner></meedias-spinner>\\n        </div>\\n    </div>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\n/* */\nimport { PagesComponent } from './pages.component';\nimport { routes } from './pages.routing'; \nimport { PagesService } from './pages.service';\nimport { PageOverviewComponent } from '../../components/page/page.component';\nimport { SharedMoudle } from 'src/app/shared.module';\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\nimport { ToastrModule } from 'ngx-toastr';\nimport { PagesEditComponent } from './edit/pages.edit.component';\nimport { PagesCreateComponent } from './create/pages.create.component';\n\n/**\n * \n * \n */ \n\n@NgModule({\n  declarations: [\n    PagesComponent,\n    PageOverviewComponent,\n    PagesEditComponent,\n    PagesCreateComponent\n  ],\n  providers: [[{ provide: PagesService, useClass: PagesService}]],\n  imports: [ CommonModule,SharedMoudle,ToastrModule,FormsModule,ReactiveFormsModule,RouterModule.forChild(routes) ],\n  exports:[ RouterModule ]\n})\nexport class PagesModule {}\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { AuthenticationService, EnvironmentService } from 'src/app/core/services';\nimport { CookiesService } from 'src/app/core/services/cookies/cookies.service';\n\n@Injectable()\nexport class PagesService {\n\n    constructor(\n        public http: HttpClient,\n        public envService: EnvironmentService,\n        public cookies: CookiesService,\n        public authentication: AuthenticationService\n    ){}\n\n    public getPages(): any{\n        return new Promise((resolve,reject) => {\n            this.http.get(this.envService.read('apiUrl') +'/'+ window['instance_id'] + '/pages').subscribe(resolve, reject);\n        });  \n    }\n\n    public getPageInfo(gridId): any{\n        return new Promise((resolve,reject) => {\n            this.http.get(this.envService.read('apiUrl') +'/grid/' + gridId).subscribe(resolve, reject);\n        });  \n    }\n\n    public deletePage(gridId): any{\n        let authinfo = this.authentication._authinfo.get();\n        const options = {\n            headers: new HttpHeaders({'Content-Type': 'application/json'}),\n            body: authinfo\n        };\n        return new Promise((resolve,reject) => {\n            this.http.delete(this.envService.read('apiUrl') +'/grid/' + gridId,options).subscribe(resolve, reject);\n        });  \n    }\n\n    public editPage(gridId,data ){\n        let authinfo = this.authentication._authinfo.get();\n        return new Promise((resolve,reject) => {\n            this.http.patch(this.envService.read('apiUrl') +'/grid/' + gridId,{auth_info:authinfo,grid:data}).subscribe(resolve, reject);\n        });  \n    }\n\n    public createPage(data){\n        let authinfo = this.authentication._authinfo.get();\n        let grid = {\n            auth_info: authinfo,\n            grid: data\n        }\n        return new Promise((resolve,reject) => {\n            this.http.post(this.envService.read('apiUrl') +'/grid/new',grid).subscribe(resolve, reject);\n        });  \n    }\n\n}\n\n\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n/*Internal */\nimport * as core from './core';\n  \n\n/**\n * @author Schwada\n * @since 9.1.2019\n * \n * Shared module that defines services, pipes \n * and directives that feature modules\n * and all lazy-loaded modules can use.  \n */\n\n\n@NgModule({\n    declarations: [\n        ...use(core.components),\n        ...use(core.pipes)\n    ],\n    imports: [\n        CommonModule,\n        ...use(core.dependencies)\n    ],\n    providers: [\n    ],\n    exports:[\n        ...use(core.components),\n        ...use(core.pipes)\n    ]\n})\nexport class SharedMoudle {}\n\nfunction use(values): Array<any>{\n\treturn Object.values(values);\n}\n"],"sourceRoot":""}